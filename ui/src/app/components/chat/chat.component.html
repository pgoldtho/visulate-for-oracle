<div class="chat-container">
  <div class="messages" #messageContainer>
    <div *ngFor="let msg of messages" class="message">
      <strong>{{ msg.user }}:</strong>
      <div markdown>{{ msg.text }}</div>
    </div>
    <div *ngIf="isLoading">
      <p>Working... {{ counter }} seconds</p>
      <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
    </div>
  </div>
  <form [formGroup]="chatForm" (ngSubmit)="sendMessage()">
    <input formControlName="message" placeholder="Type your message" />
    <button type="submit">Send</button>
  </form>
  <button (click)="downloadMessages()">Download Messages</button>
</div>
